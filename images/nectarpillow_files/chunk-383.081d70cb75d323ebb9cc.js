(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[383],{799:function(e,t,n){"use strict";n.r(t);(function(e){n.d(t,"default",(function(){return b}));var r=n(6);var o=n(10);function i(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){i=function e(t){return typeof t}}else{i=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return i(e)}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function a(e,t,n){if(t)c(e.prototype,t);if(n)c(e,n);return e}function f(e,t){if(t&&(i(t)==="object"||typeof t==="function")){return t}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return y(e,t)}var b=function(t){s(n,t);function n(e){var t;u(this,n);t=f(this,p(n).call(this,e));t.state={fullPrice:null,discountedPrice:null,currency:null};return t}a(n,[{key:"initPrice",value:function e(){var t=this;var n=this.props,o=n.product,i=n.properties;var u=null;var c=null;o&&o.split(",").map((function(e){r["e"].getProductByName(e,(function(e){if(e){var n=i?i:[];if(!i){e.properties&&e.properties.map((function(t){var o=t.options.find((function(n){return r["e"].isProductInStock(e,[{name:t.name,value:n.value}])}));o&&n.push({name:t.name,value:o.value})}))}r["b"].getDiscountForProduct(e,n,(function(o){var i=r["e"].getProductPrice(e,n);var a=r["e"].getProductPrice(e,n,o&&-o.amount||0);u=u+i.amount;c=c+a.amount;t.setState({currency:i.currency||"$",fullPrice:u,discountedPrice:c})}))}}))}))}},{key:"componentDidMount",value:function e(){this.initPrice()}},{key:"componentDidUpdate",value:function e(t){var n=this.props.properties;var r=JSON.stringify(t.properties)!==JSON.stringify(n);if(r){this.initPrice()}}},{key:"render",value:function t(){var n=this.props.children;var r=this.state,i=r.fullPrice,u=r.discountedPrice,c=r.currency;if(!i||!u){return false}return e.createElement(e.Fragment,null,n,u&&e.createElement("span",null,c,Object(o["b"])(u)),i&&u&&u!==i&&e.createElement("del",null,c,Object(o["b"])(i)))}}]);return n}(e.Component)}).call(this,n(0))}}]);